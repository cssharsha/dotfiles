;==========================================================;
; Polybar Configuration                                    ;
;==========================================================;

[colors]
; Attempt to load pywal Xresources.
; Provide a fallback hex code in case Xresources are not loaded (e.g., on first launch before wal -R)
; The 'background' and 'foreground' from pywal's Xresources don't have the '*'
; The 'colorN' from pywal's Xresources often have a '*' or application prefix,
; but pywal also often puts them unprefixed in ~/.Xresources.
; Check your ~/.cache/wal/colors.Xresources to see the exact names (e.g., *color0 or URxvt.color0 or just color0)
; We'll assume pywal makes 'background', 'foreground', 'color0'-'color15' available without a prefix
; or that xrdb makes them accessible this way.

background = ${xrdb:background:#1e1d2d}
foreground = ${xrdb:foreground:#cdd6f4}
color0 = ${xrdb:color0:#45475a}
color1 = ${xrdb:color1:#f38ba8}
color2 = ${xrdb:color2:#a6e3a1}
color3 = ${xrdb:color3:#f9e2af}
color4 = ${xrdb:color4:#89b4fa}
color5 = ${xrdb:color5:#f5c2e7}
color6 = ${xrdb:color6:#94e2d5}
color7 = ${xrdb:color7:#bac2de}
color8 = ${xrdb:color8:#6c7086}
color9 = ${xrdb:color9:#f38ba8}
color10 = ${xrdb:color10:#a6e3a1}
color11 = ${xrdb:color11:#f9e2af}
color12 = ${xrdb:color12:#89b4fa}
color13 = ${xrdb:color13:#f5c2e7}
color14 = ${xrdb:color14:#94e2d5}
color15 = ${xrdb:color15:#cdd6f4}

; Define your theme accents using these pywal Xresource-derived colors
; Add your desired alpha (e.g., CC for ~80%) to the background if you want transparency.
; The Xresource itself won't have alpha.
bar-background = #1e1d2d
bar-foreground = ${colors.foreground}

accent1    = ${colors.color4}
accent2    = ${colors.color5}
alert      = ${colors.color1}
disabled   = ${colors.color8}

; Define your colors here. AA is the alpha/transparency channel.
; #AARRGGBB format. 00 is fully transparent, FF is fully opaque.
; Other Catppuccin Mocha colors you might want to use elsewhere:
; rosewater = #f5e0dc
; flamingo  = #f2cdcd
; pink      = #f5c2e7 ; The original pink if you want it for something else
; peach     = #fab387
; yellow    = #f9e2af
; green     = #a6e3a1
; teal      = #94e2d5
; sky       = #89dceb
; sapphire  = #74c7ec
; blue      = #89b4fa
; subtext0  = #a6adc8
; surface0  = #313244
; Base (semi-transparent)
;background = #CC1e1d2d
; Text
;foreground = #f2cdcd
; Lavender (used for focused underline, etc.)
;primary    = #b4befe
; Mauve (was pink, used for some focused elements, date prefix)
;secondary  = #94e2d5
; Red
;alert      = #f38ba8
; Overlay0 (muted text, unfocused elements)
;disabled   = #6c7086

[bar/primary]
monitor = ${env:MONITOR}
width = 100%
height = 26
; bottom = true
offset-y = 5
offset-x = 5
radius = 0.0 ; Set to >0 for rounded corners

; DPI
; dpi = 96

background = ${colors.bar-background}
foreground = ${colors.bar-foreground}

line-size = 2
;line-color = ${colors.primary}

border-size = 0
;border-color = #00000000 ; Transparent border

padding-left = 1
padding-right = 1
module-margin = 1

; Font list: first font is primary, subsequent are fallbacks or for specific glyphs
; Make sure these fonts are installed on your system
font-0 = "DejaVu Sans Mono:size=10;2"
; For icons like volume
font-1 = "Font Awesome 6 Free Solid:style=Solid:size=10;2"
font-2 = "Font Awesome 6 Brands:style=Regular:size=10;2"
; For Nerd Fonts, it might be:
; font-0 = "Hack Nerd Font:size=10;2"

modules-left = i3 pulseaudio
modules-center = date
modules-right = memory cpu temperature systray

cursor-click = pointer
cursor-scroll = ns-resize

; WM specific settings
wm-restack = i3
override-redirect = false ; Set to true if you have issues with i3 placing the bar

[bar/secondary]
monitor = ${env:MONITOR}
width = 100%
height = 26
; bottom = true
radius = 0.0
background = ${colors.bar-background}
foreground = ${colors.bar-foreground}
line-size = 2
border-size = 0
padding-left = 1
padding-right = 1
module-margin = 1
font-0 = "DejaVu Sans Mono:size=10;2"
font-1 = "Font Awesome 6 Free Solid:style=Solid:size=10;2"
font-2 = "Font Awesome 6 Brands:style=Regular:size=10;2"
modules-left = i3 pulseaudio
modules-center = date
modules-right = memory cpu temperature
cursor-click = pointer
cursor-scroll = ns-resize
wm-restack = i3
override-redirect = false

[module/i3]
type = internal/i3
pin-workspaces = true
enable-click = true
format = <label-state> <label-mode>
index-sort = true
wrapping-scroll = false

; Define icons for your workspaces (using Font Awesome in this example)
ws-icon-0 = 1; 
ws-icon-1 = 2;
ws-icon-2 = 3;
ws-icon-3 = 4;
ws-icon-default = ▪

label-focused = %icon% %name%
label-focused-background = ${colors.accent2}
label-focused-underline= ${colors.accent1}
label-focused-foreground = ${colors.foreground}
label-focused-padding = 1

label-unfocused = %icon% %name%
label-unfocused-foreground = ${colors.disabled}
label-unfocused-padding = 1

label-visible = %icon% %name%
label-visible-underline = ${colors.disabled}
label-visible-foreground = ${colors.disabled}
label-visible-padding = 1

label-urgent = %icon% %name%
label-urgent-background = ${colors.alert}
label-urgent-foreground = ${colors.background}
label-urgent-padding = 1

[module/pulseaudio]
type = internal/pulseaudio
use-ui-max = false ; Set to true if you want the bar to go up to 153% (max UI volume)
interval = 2

format-volume = <ramp-volume> <label-volume>
format-muted = <label-muted>
label-volume = %percentage%%
label-muted =  Muted
label-muted-foreground = ${colors.disabled}

; Volume icons/ramps
ramp-volume-0 = 
ramp-volume-1 = 
ramp-volume-2 = 

; Click events
click-right = pavucontrol &
click-middle = pactl set-sink-mute @DEFAULT_SINK@ toggle
; Scroll events for volume (optional, add to bar section: enable-scroll = true)
; scroll-up = pactl set-sink-volume @DEFAULT_SINK@ +5%
; scroll-down = pactl set-sink-volume @DEFAULT_SINK@ -5%


[module/date]
type = internal/date
interval = 5 ; Update every 5 seconds

date = %Y-%m-%d
time = %H:%M

format-prefix = " "
format-prefix-foreground = ${colors.secondary}
label = %date% %time%

[module/cpu]
type = internal/cpu
interval = 2
format-prefix = "CPU "
;format-prefix-foreground = ${colors.disabled}
label = %percentage:2%%

[module/memory]
type = internal/memory
interval = 2
format-prefix = "RAM "
;format-prefix-foreground = ${colors.disabled}
label = %percentage_used:2%%

[module/temperature]
type = internal/temperature
thermal-zone = 0 # Usually 0, check yours with `ls /sys/class/thermal/`
warn-temperature = 70
interval = 5

format = <ramp> <label>
format-warn = <ramp> <label-warn>
label = %temperature-c%°C
label-warn = %temperature-c%°C
label-warn-foreground = ${colors.alert}

ramp-0 =   ; Font Awesome thermomenter icons
ramp-1 = 
ramp-2 = 
ramp-foreground = ${colors.secondary}


[settings]
screenchange-reload = true  ; Reload Polybar when monitor setup changes
; pseudo-transparency = true ; Enable this for 'fake' transparency if you don't have a compositor.
                             ; Real transparency requires a compositor.

[module/systray]
type = internal/tray
; You can define multiple bars here if needed, e.g. [bar/othertopbar]
